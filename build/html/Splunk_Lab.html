

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to the Splunk Lab &mdash; SOC Documentation 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=8d563738"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Splunk" href="Splunk.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SOC Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Splunk.html">Splunk</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Splunk Lab</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#technologies-you-will-use">Technologies you will use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#lab-structure">Lab Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup">Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cloud-instance">Cloud instance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#local-instance">Local Instance</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#task-1-setting-up-splunk-server">Task 1 - Setting up Splunk Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hints">Hints</a></li>
<li class="toctree-l3"><a class="reference internal" href="#answer">Answer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#task-2-forwarding-logs-to-splunk">Task 2 - Forwarding Logs to Splunk</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Hints</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Answer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#task-3-generating-custom-log-sources">Task 3 - Generating Custom Log Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#task-4-custom-indexes">Task 4 - Custom Indexes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#whats-next">Whats next?</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SOC Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Welcome to the Splunk Lab</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Splunk_Lab.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="welcome-to-the-splunk-lab">
<h1>Welcome to the Splunk Lab<a class="headerlink" href="#welcome-to-the-splunk-lab" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>In this lab we will teach you how to setup your own Splunk server. You will also learn how you can forward logs from different endpoint devices to your Splunk logs, aka ingesting logs. After you get comfortable ingesting logs we will also be generating our own log sources and learning how we can ingest those logs too.</p>
<section id="technologies-you-will-use">
<h3>Technologies you will use<a class="headerlink" href="#technologies-you-will-use" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Splunk Enterprise</p></li>
<li><p>Splunk Universal Forwarder</p></li>
<li><p>Linux - Debian</p></li>
<li><p>Windows</p></li>
<li><p>Sysmon</p></li>
</ul>
<p>As more and more people complete the beginner lab we will start working on a more advanced lab for people interested in learning more about Splunk.</p>
</section>
</section>
<section id="lab-structure">
<h2>Lab Structure<a class="headerlink" href="#lab-structure" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>We give you a task. We want you to figure out as much as you can by yourself so the instructions will be very minimal.</p></li>
<li><p>If you get stuck on a task feel free to take a look at the hints section.</p></li>
<li><p>Don’t be discouraged as we also share the answers.</p></li>
</ol>
</section>
<section id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Link to this heading"></a></h2>
<p>You have 2 options for this lab. To follow along this lab you can either use the SDC cloud or use your local machine to build the lab. I recommend the SDC cloud as it is simpler than trying to install your own virtual machine on your own computer.</p>
<section id="cloud-instance">
<h3>Cloud instance<a class="headerlink" href="#cloud-instance" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>First you will need to download and install <a class="reference external" href="https://client.pritunl.com/#install">Pritunl</a></p></li>
<li><p>Next contact the Student Data Center to get VPN credentials</p></li>
<li><p>Import the profile provided to you by the MC Hill bot. Dont enter a profile url</p></li>
<li><p>Once Imported, connect to the sdc_vpn and use the credentials given to you</p></li>
<li><p>Open up a web browser and navigate to https://kamino.calpolyswift.org/#/</p></li>
<li><p>Register an account and login</p></li>
<li><p>Create a pod</p></li>
<li><p>In a new tab navigate to https://elsa.sdc.cpp/</p></li>
<li><p>Login using the account you created in step 6</p></li>
<li><p>Power on the VMs provided</p></li>
</ol>
<p>You are now ready to start the lab.</p>
</section>
<section id="local-instance">
<h3>Local Instance<a class="headerlink" href="#local-instance" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Download and install Virtual Box or Vmware Player</p></li>
<li><p>Download the Debian ISO file</p></li>
<li><p>Create a new VM using the Debian ISO file</p></li>
<li><p>Start the VM
Install Splunk on a debian machine.</p></li>
</ol>
</section>
</section>
<section id="task-1-setting-up-splunk-server">
<h2>Task 1 - Setting up Splunk Server<a class="headerlink" href="#task-1-setting-up-splunk-server" title="Link to this heading"></a></h2>
<p>After you complete the setup of the lab, we will now work with the vm called “debian”.</p>
<p>The task is to create our very own Splunk server. When I say create I simply mean install the Splunk Enterprise Trial. So see if you can install that on the debian vm.</p>
<p>If you are stuck or donno where to start check the hints. Good luck!</p>
<section id="hints">
<h3>Hints<a class="headerlink" href="#hints" title="Link to this heading"></a></h3>
<details close>
<summary>Hint 1</summary>
You can download the installer at https://www.splunk.com/
<br> You will need a Splunk account.
</details>
<details close>
<summary>Hint 2</summary>
We need a way to install the package we just downloaded. In debian we can use the dpkg command to install packages.
</details>
<details close>
<summary>Hint 3</summary>
Just because you installed it doesnt mean its running.
</details>
</section>
<section id="answer">
<h3>Answer<a class="headerlink" href="#answer" title="Link to this heading"></a></h3>
<details close>
<summary>Answer</summary>
<details close>
<summary>You sure?</summary>
Download the Splunk Enterprise Trial with the command below
<br>  
<code>
wget -O splunk-9.2.1-78803f08aabb-linux-2.6-amd64.deb "https://download.splunk.com/products/splunk/releases/9.2.1/linux/splunk-9.2.1-78803f08aabb-linux-2.6-amd64.deb"
</code>
<br> 
Navigate to the folder you downloaded the file and run the command 
<code>
dpkg -i plunk-9.2.1-78803f08aabb-linux-2.6-amd64.deb
</code>
<p>Navigate to the folder /opt/splunk/bin and run
<code>
cd /opt/splunk/bin
./splunk start
</code></p>
<p>Open up firefox and browse to localhost:8000
Login with the user account you created when installing Splunk</p>
</details>
</details>
</section>
</section>
<section id="task-2-forwarding-logs-to-splunk">
<h2>Task 2 - Forwarding Logs to Splunk<a class="headerlink" href="#task-2-forwarding-logs-to-splunk" title="Link to this heading"></a></h2>
<p>Congratulations if you made it this far that means you successfully setup your own Splunk server!</p>
<p>If you havent already, I encourage you to take explore the UI of Splunk. It will be quite a lot to absorb at first but I promise you as you keep using Splunk you will get used to the UI.</p>
<p>Now that we set up a Splunk server we need to figure out how we can ingest logs into it. We ingest logs using something called the Splunk Universal Forwarder. This is a tool installed on an endpoint device that tells the computer which logs to send and where to send them.</p>
<p>Task 2 is to install the Splunk Universal Forwarder on the Windows Client and see if you can query the logs using the Splunk Search App.</p>
<p>If you are able to see data when searching index=main you have successfully completed the task.</p>
<section id="id1">
<h3>Hints<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<details close>
<summary>Hint 1</summary>
You can also download the Splunk Universal Forwarder at https://www.splunk.com/
<br> You will need a Splunk account.
</details>
<details close>
<summary>Hint 2</summary>
Did you configure your Splunk server to listen?
Did you open up firewall ports?
</details>
<details close>
<summary>Hint 3</summary>
When you install the Splunk Universal Forwarder in the customize option make sure you are installing with the local account. Using a virtual account may not send logs due to permission issues.
</details>
</section>
<section id="id2">
<h3>Answer<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<details close>
<summary>Answer</summary>
<details close>
<summary>You sure?</summary>
Download the Splunk Universal Forwarder. You can either log into the Splunk website with your account and download the windows version. Or do the same with this command
<br>  
<code>
wget -O splunkforwarder-9.2.1-78803f08aabb-x64-release.msi "https://download.splunk.com/products/universalforwarder/releases/9.2.1/windows/splunkforwarder-9.2.1-78803f08aabb-x64-release.msi"
</code>
<br> 
Navigate to the folder you downloaded the file and run the msi file 
Agree to the license and install using custom options. Make sure to choose option local account. Select any logs you want to forward. Input the IP address of the Splunk server and use the default ports. 
<p>Open up Windows Firewall and open up outbound ports for TCP AND UDP for 8089 and 9997.</p>
<p>On your Splunk Server login using the credentials you created and go to Settings-&gt;Forwarding and Receiving and nder the Receive Data section click on +Add New. Enter 9997 as listening port and save.</p>
<p>Go to your Splunk Search Head and search index=main.
You should see data in this index after a few minutes.</p>
  </details>
</details>
</section>
</section>
<section id="task-3-generating-custom-log-sources">
<h2>Task 3 - Generating Custom Log Sources<a class="headerlink" href="#task-3-generating-custom-log-sources" title="Link to this heading"></a></h2>
<p>If you come this far pat yourself on the back!
You essentially now have a good understanding on how logs are ingested into Splunk and you know how to query the data.</p>
<p>Task 3 is to install Sysmon and ingest the logs Sysmon generates into Splunk.</p>
<p>If you enjoyed this lab and want to learn more feel free to reach out to us on Discord!</p>
</section>
<section id="task-4-custom-indexes">
<h2>Task 4 - Custom Indexes<a class="headerlink" href="#task-4-custom-indexes" title="Link to this heading"></a></h2>
<p>Wow you really must like Splunk if you came this far ;)
Notice how all your indexes are being sent to main by default. Imagine ingesting 100s of log sources into main. How messy does that look. It would also be a nightmare querying specific data and very inefficient.</p>
<p>Task 4 is to create a new index and change the behaviour of the Universal Forwarder.
Let create an index called Sysmon and forward the Sysmon logs to this index called Sysmon instead of main.</p>
</section>
<section id="whats-next">
<h2>Whats next?<a class="headerlink" href="#whats-next" title="Link to this heading"></a></h2>
<p>Congratulations you have completed the Splunk Lab!</p>
<p>Hope you enjoyed the lab! If you want to work on more Splunk stuff or like what you see at the SOC, I encourage you to get involved and start working on your own cool project :). You are now dubbed Splunk Pro!</p>
<p>Stay tuned for a more advanced Splunk Lab where we plan to tackle the following questions:</p>
<p>-How do I scale my Splunk deployment?
-How do I make my Splunk server more resilient?
-How do I increase search performance?</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Splunk.html" class="btn btn-neutral float-left" title="Splunk" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, CPP Student Security Operations Center.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>